{% extends 'base.html.twig' %}

{% block title %} - {{ article.title }} - {% endblock %}

{% block content %}
	<article class="container mt-4">
		<div class="row">
			<div class="col-md-6">
				<h1>{{ article.title }}</h1>
				<br>
				<p class="text-secondary">Par <a href="#"> {{ article.user.username }}</a>, le {{ article.createdAt|format_datetime('full', 'short', locale='fr') }}</p>

				{% for image in article.images %}
					<img src="{{ asset('uploads/' ~image.name) }}" alt="" class="img-fluid">
				{% endfor %}
				<p>
					<small>
						{% for category in article.categories %}
							<a href="{{ category.name }}">{{ category.name }}</a>,
						{% endfor %}
					</small>
				</p>

				<div class="mt-4">
					{{ article.content|raw }}
				</div>
			</div>
			<div class="col-md-6">
				<div>
					{{ form_start(form) }}
					{{ form_widget(form.content) }}
					{{ form_rest(form) }}

					<button type="submit" class="btn btn-primary">Laisser un commentaire !</button>

					{{ form_end(form) }}
				</div>
			</div>
		</div>

		<h1>Commentaires </h1>

		{% for comment in comments %}
			{# dump the data in twig #}
			{#{{ dump(comment.user.username) }}#}
			<p>
				{{ comment.user.username }} Ã  dit : {{ comment.content|raw }}
			</p>
		{% else %}
			<p>Pas de commentaires...</p>
		{% endfor %}

	</article>
{% endblock %}
